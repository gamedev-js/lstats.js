var LStats=function(){"use strict";(function(){if(typeof window.performance==="undefined"){window.performance={}}if(!window.performance.now){var t=Date.now();if(performance.timing&&performance.timing.navigationStart){t=performance.timing.navigationStart}window.performance.now=function i(){return Date.now()-t}}if(!window.performance.mark){window.performance.mark=function(){}}if(!window.performance.measure){window.performance.measure=function(){}}if(!window.performance.memory){window.performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}}})();const t=80;const i=38;const s=Math.round(window.devicePixelRatio||1);const e=t*s;const h=i*s;const l=3*s;const a=2*s;const n=3*s;const c=15*s;const _=74*s;const o=(i-18)*s;class f{constructor(f,r,d,m){this._name=r;this._fg=d;this._bg=m;this._canvas=document.createElement("canvas");this._canvas.width=e;this._canvas.height=h;this._canvas.style.cssText=`width:${t}px;height:${i}px`;this._ctx=this._canvas.getContext("2d");this._ctx.font=`bold ${9*s}px Helvetica,Arial,sans-serif`;this._ctx.textBaseline="top";this._ctx.fillStyle=m;this._ctx.fillRect(0,0,e,h);this._ctx.fillStyle=d;this._ctx.fillText(r,l,a);this._ctx.fillRect(n,c,_,o);this._ctx.fillStyle=m;this._ctx.globalAlpha=.9;this._ctx.fillRect(n,c,_,o);f.appendChild(this._canvas)}draw(t,i){let h=Math.round(t*100)/100;this._ctx.fillStyle=this._bg;this._ctx.globalAlpha=1;this._ctx.fillRect(0,0,e,c);this._ctx.fillStyle=this._fg;this._ctx.fillText(`${h} ${this._name}`,l,a);this._ctx.drawImage(this._canvas,n+s,c,_-s,o,n,c,_-s,o);this._ctx.fillRect(n+_-s,c,s,o);let f=Math.round((1-t/i)*o);this._ctx.fillStyle=this._bg;this._ctx.globalAlpha=.9;this._ctx.fillRect(n+_-s,c,s,f)}}class r extends f{constructor(t,i,e,h){super(t,i,e,h);this._threshold=0;this._canvas2=document.createElement("canvas");this._canvas2.width=_;this._canvas2.height=o;this._canvas2.style.cssText=`width:${_/s}px;height:${o/s}px`;this._ctx2=this._canvas2.getContext("2d");this._ctx2.fillStyle=h;this._ctx.globalAlpha=.9;this._ctx2.fillRect(0,0,_,o)}draw(t,i){let h=Math.round(t*100)/100;this._ctx.fillStyle=this._bg;this._ctx.globalAlpha=1;this._ctx.fillRect(0,0,e,c);this._ctx.fillStyle=this._fg;this._ctx.fillText(`${h} ${this._name}`,l,a);if(t>this._threshold){let i=(t-t%o)/o;let e=o*(i+1);let h=this._threshold;this._threshold=e;let l=h/e;this._ctx2.drawImage(this._canvas,n,c,_,o,0,0,_,o);this._ctx.fillStyle=this._fg;this._ctx.globalAlpha=1;this._ctx.fillRect(n,c,_,o);this._ctx.fillStyle=this._bg;this._ctx.globalAlpha=.9;this._ctx.fillRect(n,c,_,o);this._ctx.fillStyle=this._fg;this._ctx.globalAlpha=1;this._ctx.drawImage(this._canvas2,s,0,_-s,o,n,c+(1-l)*o,_-s,l*o)}else{this._ctx.drawImage(this._canvas,n+s,c,_-s,o,n,c,_-s,o)}let f=Math.round((1-t/this._threshold)*o);this._ctx.fillRect(n+_-s,c,s,o);if(i){this._ctx.fillStyle="#e00";this._ctx.globalAlpha=1;this._ctx.fillRect(n+_-s,c,s,f)}else{this._ctx.fillStyle=this._bg;this._ctx.globalAlpha=.9;this._ctx.fillRect(n+_-s,c,s,f)}}}class d{constructor(t,i=["fps","ms","mb"]){this._mode=0;this._enableFPS=i.indexOf("fps")!==-1;this._enableMS=i.indexOf("ms")!==-1;this._enableMB=i.indexOf("mb")!==-1;this._framesMS=0;this._lastTimeMS=0;this._frames=0;this._lastTimeFPS=0;this._used=0;this._lastUsed=0;this._lastTimeMB=0;let s=document.createElement("div");s.style.cssText="position:fixed;top:5px;right:5px;cursor:pointer;opacity:0.9;z-index:9999";s.addEventListener("mousedown",t=>{t.preventDefault();t.stopPropagation();this._mode=++this._mode%s.children.length;for(let t=0;t<s.children.length;++t){s.children[t].style.display=t===this._mode?"block":"none"}});if(this._enableFPS){this._graphFPS=new f(s,"FPS","#0ff","#002")}if(this._enableMS){this._graphMS=new f(s,"MS","#f08","#201")}if(this._enableMB){this._graphMB=new r(s,"MB","#0f0","#020")}for(let t=0;t<s.children.length;++t){s.children[t].style.display=t===0?"block":"none"}t.appendChild(s)}tick(){let t=window.performance.now();if(this._enableMS){++this._framesMS;let i=t-this._lastTimeMS;if(i>100){this._graphMS.draw(i/this._framesMS,50);this._framesMS=0;this._lastTimeMS=t}}if(this._enableFPS){++this._frames;let i=t-this._lastTimeFPS;if(i>1e3){this._graphFPS.draw(this._frames*1e3/i,100);this._frames=0;this._lastTimeFPS=t}}if(this._enableMB){let i=t-this._lastTimeMB;if(i>200){this._lastUsed=this._used;this._used=window.performance.memory.usedJSHeapSize;this._lastTimeMB=t;let i=this._used-this._lastUsed;this._graphMB.draw(this._used/1048576,i<0)}}}}return d}();
//# sourceMappingURL=./dist/lstats.min.js.map