{"version":3,"file":"lstats.dev.js","sources":["../index.js"],"sourcesContent":["// polyfill\nfunction polyfill () {\n  if (typeof window.performance === 'undefined') {\n    window.performance = {};\n  }\n\n  if (!window.performance.now) {\n\n    let nowOffset = Date.now();\n\n    if (performance.timing && performance.timing.navigationStart) {\n      nowOffset = performance.timing.navigationStart;\n    }\n\n    window.performance.now = function now() {\n      return Date.now() - nowOffset;\n    };\n  }\n\n  if (!window.performance.mark) {\n    window.performance.mark = function () { };\n  }\n\n  if (!window.performance.measure) {\n    window.performance.measure = function () { };\n  }\n\n  if (!window.performance.memory) {\n    window.performance.memory = { usedJSHeapSize: 0, totalJSHeapSize: 0 };\n  }\n}\n\npolyfill();\n\nconst _width = 80;\nconst _height = 38;\n\nconst PR = Math.round(window.devicePixelRatio || 1);\nconst WIDTH = _width * PR;\nconst HEIGHT = _height * PR;\nconst TEXT_X = 3 * PR;\nconst TEXT_Y = 2 * PR;\nconst GRAPH_X = 3 * PR;\nconst GRAPH_Y = 15 * PR;\nconst GRAPH_WIDTH = 74 * PR;\nconst GRAPH_HEIGHT = (_height - 18) * PR;\n\nclass _Graph {\n  constructor(dom, name, fg, bg) {\n    this._name = name;\n    this._fg = fg;\n    this._bg = bg;\n\n    // this._min = Infinity;\n    // this._max = 0;\n\n    this._canvas = document.createElement('canvas');\n    this._canvas.width = WIDTH;\n    this._canvas.height = HEIGHT;\n    this._canvas.style.cssText = `width:${_width}px;height:${_height}px`;\n\n    this._ctx = this._canvas.getContext('2d');\n    this._ctx.font = `bold ${9 * PR}px Helvetica,Arial,sans-serif`;\n    this._ctx.textBaseline = 'top';\n\n    this._ctx.fillStyle = bg;\n    this._ctx.fillRect(0, 0, WIDTH, HEIGHT);\n\n    this._ctx.fillStyle = fg;\n    this._ctx.fillText(name, TEXT_X, TEXT_Y);\n    this._ctx.fillRect(GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT);\n\n    this._ctx.fillStyle = bg;\n    this._ctx.globalAlpha = 0.9;\n    this._ctx.fillRect(GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT);\n\n    dom.appendChild(this._canvas);\n  }\n\n  draw (value, maxValue) {\n    // this._min = Math.min(this._min, value);\n    // this._max = Math.max(this._max, value);\n\n    let v = Math.round(value * 100) / 100;\n\n    this._ctx.fillStyle = this._bg;\n    this._ctx.globalAlpha = 1;\n    this._ctx.fillRect(0, 0, WIDTH, GRAPH_Y);\n    this._ctx.fillStyle = this._fg;\n    this._ctx.fillText(`${v} ${this._name}`, TEXT_X, TEXT_Y);\n\n    this._ctx.drawImage(this._canvas,\n      GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT,\n      GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT\n    );\n    this._ctx.fillRect(GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT);\n\n    let h = Math.round((1 - (value / maxValue)) * GRAPH_HEIGHT);\n    this._ctx.fillStyle = this._bg;\n    this._ctx.globalAlpha = 0.9;\n    this._ctx.fillRect(GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, h);\n  }\n}\n\nclass _ThresholdGraph extends _Graph {\n  constructor(dom, name, fg, bg) {\n    super(dom, name, fg, bg);\n\n    this._threshold = 0;\n\n    this._canvas2 = document.createElement('canvas');\n    this._canvas2.width = GRAPH_WIDTH;\n    this._canvas2.height = GRAPH_HEIGHT;\n    this._canvas2.style.cssText = `width:${GRAPH_WIDTH/PR}px;height:${GRAPH_HEIGHT/PR}px`;\n\n    this._ctx2 = this._canvas2.getContext('2d');\n    this._ctx2.fillStyle = bg;\n    this._ctx.globalAlpha = 0.9;\n    this._ctx2.fillRect(0, 0, GRAPH_WIDTH, GRAPH_HEIGHT);\n  }\n\n  draw (value, alarm) {\n    let v = Math.round(value * 100) / 100;\n\n    this._ctx.fillStyle = this._bg;\n    this._ctx.globalAlpha = 1;\n    this._ctx.fillRect(0, 0, WIDTH, GRAPH_Y);\n    this._ctx.fillStyle = this._fg;\n\n    this._ctx.fillText(`${v} ${this._name}`, TEXT_X, TEXT_Y);\n\n    if (value > this._threshold) {\n      let factor = (value - (value % GRAPH_HEIGHT)) / GRAPH_HEIGHT;\n      let newThreshold = GRAPH_HEIGHT * (factor + 1);\n\n      let lastThreshold = this._threshold;\n      this._threshold = newThreshold;\n\n      let ratio = lastThreshold / newThreshold;\n\n      this._ctx2.drawImage(this._canvas,\n        GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT,\n        0, 0, GRAPH_WIDTH, GRAPH_HEIGHT\n      );\n\n      this._ctx.fillStyle = this._fg;\n      this._ctx.globalAlpha = 1;\n      this._ctx.fillRect(GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT);\n\n      this._ctx.fillStyle = this._bg;\n      this._ctx.globalAlpha = 0.9;\n      this._ctx.fillRect(GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT);\n\n      this._ctx.fillStyle = this._fg;\n      this._ctx.globalAlpha = 1;\n      this._ctx.drawImage(this._canvas2,\n        PR, 0, GRAPH_WIDTH - PR, GRAPH_HEIGHT,\n        GRAPH_X, GRAPH_Y + (1.0 - ratio) * GRAPH_HEIGHT, GRAPH_WIDTH - PR, ratio * GRAPH_HEIGHT\n      );\n    } else {\n      this._ctx.drawImage(this._canvas,\n        GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT,\n        GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT\n      );\n    }\n\n    //\n    let h = Math.round((1 - (value / this._threshold)) * GRAPH_HEIGHT);\n    this._ctx.fillRect(GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT);\n\n    if ( alarm ) {\n      this._ctx.fillStyle = '#e00';\n      this._ctx.globalAlpha = 1;\n      this._ctx.fillRect(GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, h);\n    } else {\n      this._ctx.fillStyle = this._bg;\n      this._ctx.globalAlpha = 0.9;\n      this._ctx.fillRect(GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, h);\n    }\n  }\n}\n\n/**\n * @class LStats\n */\nexport default class LStats {\n  constructor (dom, installs = ['fps', 'ms', 'mb']) {\n    this._mode = 0;\n    this._enableFPS = installs.indexOf('fps') !== -1;\n    this._enableMS = installs.indexOf('ms') !== -1;\n    if (window.performance.memory && window.performance.memory.totalJSHeapSize) {\n      this._enableMB = installs.indexOf('mb') !== -1;\n    }\n\n    // ms\n    // this._lastTick = 0;\n    this._framesMS = 0;\n    this._lastTimeMS = 0;\n\n    // fps\n    this._frames = 0;\n    this._lastTimeFPS = 0;\n\n    // MB\n    this._used = 0;\n    this._lastUsed = 0;\n    this._lastTimeMB = 0;\n\n    // dom\n    let container = document.createElement('div');\n    container.style.cssText = 'position:fixed;top:5px;right:5px;cursor:pointer;opacity:0.9;z-index:9999';\n    container.addEventListener('mousedown', event => {\n      event.preventDefault();\n      event.stopPropagation();\n\n      this._mode = ++this._mode % container.children.length;\n\n      for (let i = 0; i < container.children.length; ++i) {\n        container.children[i].style.display = i === this._mode ? 'block' : 'none';\n      }\n    });\n\n    if (this._enableFPS) {\n      this._graphFPS = new _Graph(container, 'FPS', '#0ff', '#002');\n    }\n    if (this._enableMS) {\n      this._graphMS = new _Graph(container, 'MS', '#f08', '#201');\n    }\n    if (this._enableMB) {\n      this._graphMB = new _ThresholdGraph(container, 'MB', '#0f0', '#020');\n    }\n\n    // show first one\n    for (let i = 0; i < container.children.length; ++i) {\n      container.children[i].style.display = i === 0 ? 'block' : 'none';\n    }\n\n    dom.appendChild(container);\n  }\n\n  tick () {\n    let time = window.performance.now();\n\n    if (this._enableMS) {\n      ++this._framesMS;\n\n      let e = time - this._lastTimeMS;\n      if (e > 100) {\n        this._graphMS.draw(e/this._framesMS, 50);\n        this._framesMS = 0;\n        this._lastTimeMS = time;\n      }\n    }\n\n    if (this._enableFPS) {\n      ++this._frames;\n\n      let e = time - this._lastTimeFPS;\n      if (e > 1000) {\n        this._graphFPS.draw(this._frames * 1000 / e, 100);\n        this._frames = 0;\n        this._lastTimeFPS = time;\n      }\n    }\n\n    if ( this._enableMB ) {\n      let e = time - this._lastTimeMB;\n      if (e > 200) {\n        this._lastUsed = this._used;\n        this._used = window.performance.memory.usedJSHeapSize;\n        this._lastTimeMB = time;\n        let delta = this._used - this._lastUsed;\n\n        this._graphMB.draw(this._used / 1048576, delta < 0);\n      }\n    }\n  }\n}"],"names":["let","const","super","this","e"],"mappings":"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"}